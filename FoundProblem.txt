# 25/08/28
- 在使用爬蟲找尋網頁的過程中，點擊按鈕後會記錄下這次發送的 request body。但是如果 API 包含 Token，同時這次自動化取得了 200 response，或許會讓這個 Token 失效，
進而導致後面重複使用 Token 的請求失敗。

    - 可能的解法

        - 使用 mitmproxy 看到 POST 請求後不送出，直接攔截下來。mitmproxy 可以自主回應 200 ok，這樣他就是還沒被用過的 Token。
            - (問)如果每個 API 能獨立做測試，這表示不需要前面瀏覽的狀態也能成功送出 API，那還大費周章建一棵樹的理由是甚麼?只要有API編號或可辨識字串就可以了吧?應該只需要API清單?
                - 這樣第二次做回測也就是察看 Response 時就有可以查閱的路徑，而且透過一條穩定的路由能夠快速產出完整的攻擊向量和報告

        - 在每次要送出請求時，都依照路由圖 run 一遍，產生全新的 Token 後在送出請求
            - (缺)實作上可能要依靠 Selenium 和 Requests 混用，感覺非常麻煩且很慢。
            - (優)這個能契合我所想要傳達的 Stateful 的概念，也才能凸顯 Api Tree 的功用所在。

    - 目前

        - 理論上 Token 沒被用過應該是能用的，而且網頁表單的輸入應該不會有太多是直接點擊可以 200 ok 的行為，我覺得先按照現有的演算法實作看看結果在下決定。
        如果能夠順利觸發的 API 很少，就要考慮改成用上面的解法實作。